<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Vue中的JS动画与velocity.js</title>
	<script type="text/javascript" src="../../vue.js"></script>
	<script type="text/javascript" src="../../velocity.min.js"></script>
	<style type="text/css">

	</style>
</head>
<body>
	<div id="root">
		<transition 
			name="fade"
			@before-enter="handleBeforeEnter"
			@enter="handleEnter"
			@after-enter="handleAfterEnter"

		>
			<div v-if="show">Hello world</div>
		</transition>
		<button @click="handleCilck">切换</button>
	</div>

	<script type="text/javascript">
		var vm = new Vue({
			el: '#root',
			data: {
				show: true
			},
			methods: {
				handleCilck: function () {
					this.show = !this.show
				},
				handleBeforeEnter: function (el) {
					// console.log('before-enter');
					// el.style.color = "red"

					el.style.opacity = 0;
				},
				handleEnter: function (el, done) {
					// setTimeout(() => {
					// 	el.style.color = 'green'
					// 	done()
					// }, 2000)
					// setTimeout(() => {
					// 	done()
					// }, 4000)

					Velocity(el, {opacity: 1}, {duration: 1000, complete: done})
				},
				handleAfterEnter: function (el) {
					// el.style.color = 'black'

					console.log('动画执行完成')
				}

			}
		})
	</script>
</body>
</html>